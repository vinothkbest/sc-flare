"use strict";(self["webpackChunk_sci_flare_test"]=self["webpackChunk_sci_flare_test"]||[]).push([[385],{1385:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{attrs:{"header-tag":"header","header-bg-variant":"primary","header-text-variant":"white","border-variant":"primary"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h4",{staticClass:"mb-0"},[e._v("User Update")])]),a("div",{staticClass:"col-md-6 text-right"},[a("router-link",{attrs:{to:{path:"/users"}}},[a("button",{staticClass:"btn btn-alt"},[e._v("Back")])])],1)])]},proxy:!0}])},[a("b-card-text",[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.saveMember.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"font-weight-bold",attrs:{for:"name"}},[e._v("Name"),a("b",{staticClass:"text-danger"},[e._v("*")])]),a("b-form-input",{staticStyle:{height:"45px"},attrs:{id:"name",placeholder:"Enter first name",autocomplete:"off"},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}}),a("alert",{attrs:{is_visible:e.errors.state.name,message:e.errors.message.name}})],1),a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"font-weight-bold",attrs:{for:"username"}},[e._v("Username")]),a("b-form-input",{staticStyle:{height:"45px"},attrs:{id:"username",placeholder:"Enter last name",autocomplete:"off"},model:{value:e.data.username,callback:function(t){e.$set(e.data,"username",t)},expression:"data.username"}}),a("alert",{attrs:{is_visible:e.errors.state.username,message:e.errors.message.username}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"font-weight-bold",attrs:{for:"designation"}},[e._v("Designation"),a("b",{staticClass:"text-danger"},[e._v("*")])]),a("b-form-input",{staticStyle:{height:"45px"},attrs:{id:"designation",placeholder:"Enter designation",autocomplete:"off"},model:{value:e.data.designation,callback:function(t){e.$set(e.data,"designation",t)},expression:"data.designation"}}),a("alert",{attrs:{is_visible:e.errors.state.designation,message:e.errors.message.designation}})],1),a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"font-weight-bold",attrs:{for:"organisation"}},[e._v("Organisation"),a("b",{staticClass:"text-danger"},[e._v("*")])]),a("b-form-select",{staticClass:"mb-3",staticStyle:{height:"45px"},attrs:{id:"organisation"},model:{value:e.data.organisation,callback:function(t){e.$set(e.data,"organisation",t)},expression:"data.organisation"}},[a("b-form-select-option",{attrs:{value:"",selected:"",disabled:""}},[e._v(" Select organisations ")]),e._l(e.dropdown.organisations,(function(t){return a("b-form-select-option",{key:t.id,attrs:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])}))],2),a("alert",{attrs:{is_visible:e.errors.state.title,message:e.errors.message.title}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"font-weight-bold",attrs:{for:"role"}},[e._v("Role"),a("b",{staticClass:"text-danger"},[e._v("*")])]),a("b-form-select",{staticClass:"mb-3",staticStyle:{height:"45px"},attrs:{id:"role"},model:{value:e.data.role,callback:function(t){e.$set(e.data,"role",t)},expression:"data.role"}},[a("b-form-select-option",{attrs:{value:"",selected:"",disabled:""}},[e._v(" Select role ")]),e._l(e.dropdown.roles,(function(t){return a("b-form-select-option",{key:t.id,attrs:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])}))],2),a("alert",{attrs:{is_visible:e.errors.state.title,message:e.errors.message.title}})],1)]),a("div",{staticClass:"form-group w-100 text-center"},[a("button",{staticClass:"btn btn-info w-25",staticStyle:{height:"45px"},attrs:{type:"submit"}},[e._v("Update")])])])],1)],1)},r=[];function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t,a,s,r,i,n){try{var o=e[i](n),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(s,r)}function c(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var i=e.apply(t,a);function n(e){l(i,s,r,n,o,"next",e)}function o(e){l(i,s,r,n,o,"throw",e)}n(void 0)}))}}var d=a(379),u=d.required,m=d.email,h=d.minLength,g=a(2978),f=(g.numbers,g.alpha_space),v={name:"UserEdit",data:function(){return{dropdown:{organisations:[],roles:[]},data:{name:"",designation:"",organisation:"",username:"",role:""},errors:{}}},validations:function(){var e={data:{name:{required:u,alpha_space:f,minLength:h(2)},designation:{required:u,alpha_space:f,minLength:h(4)},organisation:{required:u,alpha_space:f,minLength:h(4)},username:{required:u,email:m},role:{required:u,alpha_space:f,minLength:h(4)}}};return e},created:function(){var e=this;return c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.get("dropdown").then((function(t){return e.dropdown=t.data.data})),e.errors={state:Object.keys(e.data).reduce((function(e,t){return n(n({},e),{},o({},t,!1))})),message:n({},e.data)},e.$http.get("users/".concat(e.$route.params.user)).then((function(t){var a=t.data;e.data=n({},a.data);var s="Amazon"==a.data.organisation;console.log(s)}));case 3:case"end":return t.stop()}}),t)})))()},methods:{checkName:function(){this.errors.state.name=!0,this.$v.data.name.required?this.$v.data.name.alpha_space?this.$v.data.name.minLength?(this.errors.state.name=!1,this.errors.message.name=""):this.errors.message.name="Name at least two characters":this.errors.message.name="Please enter valid name":this.errors.message.name="Name is required"},checkUserName:function(){this.errors.state.username=!0,this.$v.data.username.required?this.$v.data.username.email?(this.errors.state.username=!1,this.errors.message.username=""):this.errors.message.username="Username should be email address format":this.errors.message.username="Please enter username"},checkDesignation:function(){this.errors.state.designation=!0,this.$v.data.designation.required?this.$v.data.designation.alpha_space?this.$v.data.designation.minLength?(this.errors.state.designation=!1,this.errors.message.designation=""):this.errors.message.designation="Designation at least 4 characters":this.errors.message.designation="Please enter valid designation":this.errors.message.designation="Designation is required"},checkOrganisation:function(){this.errors.state.organisation=!0,this.$v.data.organisation.required?this.$v.data.organisation.numbers?(this.errors.state.organisation=!1,this.errors.message.organisation=""):this.errors.message.organisation="Please select valid organisation":this.errors.message.organisation="Organisation is required"},checkRole:function(){this.errors.state.role=!0,this.$v.data.role.required?this.$v.data.role.numbers?(this.errors.state.role=!1,this.errors.message.role=""):this.errors.message.role="Please select valid role":this.errors.message.role="Role is required"},saveMember:function(){var e=this;this.$v.$touch(),this.checkName(),this.checkUserName(),this.checkDesignation(),this.checkOrganisation(),this.checkRole(),this.$v.$invalid||this.$v.$error||(this.$alert.processing("Processing. Please wait ..."),this.$http({method:"PUT",url:"users/".concat(this.$route.params.user),data:this.data}).then((function(t){var a="info",s="User ".concat(t.data.message," Successfully");e.audioNotify(s),e.$alert.toast(s,a)})).catch((function(t){var a,s=null===(a=t.response.data)||void 0===a?void 0:a.data[0];e.audioNotify(s),e.$alert.toastError(s,"error")})))}},watch:{"data.name":function(){this.$v.data.name.$touch(),this.checkName()},"data.username":function(){this.$v.data.username.$touch(),this.checkUserName()},"data.designation":function(){this.$v.data.designation.$touch(),this.checkDesignation()},"data.organisation":function(){this.$v.data.organisation.$touch(),this.checkOrganisation()},"data.role":function(){this.$v.data.role.$touch(),this.checkRole()}}},p=v,b=a(1001),$=(0,b.Z)(p,s,r,!1,null,null,null),_=$.exports}}]);
//# sourceMappingURL=385.610a29c1.js.map