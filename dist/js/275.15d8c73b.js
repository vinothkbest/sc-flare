"use strict";(self["webpackChunk_sci_flare_test"]=self["webpackChunk_sci_flare_test"]||[]).push([[275],{4275:function(s,e,a){a.r(e),a.d(e,{default:function(){return p}});var t=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"c-app flex-row align-items-center"},[a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),s.login.apply(null,arguments)}}},[a("p",{staticClass:"form__title"},[s._v("Sci Flare")]),a("div",{staticClass:"form__container"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"username",autocomplete:"off",placeholder:"Username"},domProps:{value:s.username},on:{input:function(e){e.target.composing||(s.username=e.target.value)}}}),a("span",{staticClass:"text-danger"},[s._v(s._s(s.messages.usernameError))])]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",autocomplete:"off",placeholder:"Password"},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}}),a("span",{staticClass:"text-danger"},[s._v(s._s(s.messages.passwordError))])]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.audio_notify,expression:"audio_notify"}],staticClass:"mr-4",attrs:{type:"checkbox",id:"notify_type",autocomplete:"off"},domProps:{checked:Array.isArray(s.audio_notify)?s._i(s.audio_notify,null)>-1:s.audio_notify},on:{change:function(e){var a=s.audio_notify,t=e.target,r=!!t.checked;if(Array.isArray(a)){var i=null,o=s._i(a,i);t.checked?o<0&&(s.audio_notify=a.concat([i])):o>-1&&(s.audio_notify=a.slice(0,o).concat(a.slice(o+1)))}else s.audio_notify=r}}}),a("label",{attrs:{for:"notify_type"}},[s._v("Need audio notify?")])]),a("input",{staticClass:"form-control btn btn-green",attrs:{type:"submit",value:"Login"}}),a("transition",{attrs:{name:"fade"}},[s.messages.is_alert?a("message",{attrs:{design:"background:rgb(232, 5, 43, 1.7);",message:s.invalid}}):s._e()],1)],1)])])},r=[],i=a(379),o=i.required,n=i.minLength,u=a(2978),d=u.no_space,c={name:"Login",data:function(){return{username:"",password:"",invalid:"",audio_notify:JSON.parse(this.$store.state.has_audio),messages:{usernameError:"",passwordError:"",is_alert:!1}}},validations:{username:{required:o,minLength:n(6),no_space:d},password:{required:o,minLength:n(10)}},methods:{checkAdminUsername:function(){if(this.$v.username.required){if(this.$v.username.no_space&&this.$v.username.minLength)return this.messages.usernameError="";this.messages.usernameError="Invalid username given"}else this.messages.usernameError="Username is required"},checkAdminPassword:function(){if(this.$v.password.required){if(this.$v.password.minLength)return this.messages.passwordError="";this.messages.passwordError="Password contains at least 10 characters"}else this.messages.passwordError="Password is required"},login:function(){var s=this;if(this.$v.$touch(),this.checkAdminUsername(),this.checkAdminPassword(),!this.$v.$invalid){var e={password:this.password,username:this.username,has_audio:this.audio_notify};this.$alert.processing("Logging. Please wait ..."),this.$store.dispatch("AUTH_LOGIN",e).then((function(e){if(e.data.status){s.messages.is_alert=!1,s.$router.push("/users");var a="info",t="".concat(e.data.message);s.audioNotify(t),s.$alert.toast(t,a)}else s.invalid=e.data.message,s.messages.is_alert=!0,s.$alert.close(),s.audioNotify(s.invalid)})).catch((function(e){s.invalid="Invalid data given",s.messages.is_alert=!0,s.$alert.close(),s.audioNotify(s.invalid)})),setTimeout((function(){s.messages.is_alert=!1}),3e3)}}},watch:{username:function(s){return this.$v.username.$touch(),this.checkAdminUsername(),this.username=s.toLowerCase()},password:function(){this.$v.password.$touch(),this.checkAdminPassword()}}},l=c,m=a(1001),f=(0,m.Z)(l,t,r,!1,null,"0e6f1a5a",null),p=f.exports}}]);
//# sourceMappingURL=275.15d8c73b.js.map